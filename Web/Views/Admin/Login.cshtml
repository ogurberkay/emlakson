@{
	Layout = null;
}
<!DOCTYPE html>
<!--
Author: Keenthemes
Product Name: Metronic - Bootstrap 5 HTML, VueJS, React, Angular & Laravel Admin Dashboard Theme
Purchase: https://1.envato.market/EA4JP
Website: http://www.keenthemes.com
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Dribbble: www.dribbble.com/keenthemes
Like: www.facebook.com/keenthemes
License: For each use you must have a valid license purchased only from above link in order to legally use the theme for your project.
-->
<html lang="en">
	<!--begin::Head-->
	<head>
		<title>Tunca EMLAK</title>
		<meta name="description" content="The most advanced Bootstrap Admin Theme on Themeforest trusted by 94,000 beginners and professionals. Multi-demo, Dark Mode, RTL support and complete React, Angular, Vue &amp; Laravel versions. Grab your copy now and get life-time updates for free." />
		<meta name="keywords" content="Metronic, bootstrap, bootstrap 5, Angular, VueJs, React, Laravel, admin themes, web design, figma, web development, free templates, free admin themes, bootstrap theme, bootstrap template, bootstrap dashboard, bootstrap dak mode, bootstrap button, bootstrap datepicker, bootstrap timepicker, fullcalendar, datatables, flaticon" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta charset="utf-8" />
		<meta property="og:locale" content="en_US" />
		<meta property="og:type" content="article" />
		<meta property="og:title" content="Tunca Gayrimenkul" />
		<meta property="og:url" content="https://keenthemes.com/metronic" />
		<meta property="og:site_name" content="Keenthemes | Metronic" />
		<link rel="canonical" href="https://preview.keenthemes.com/metronic8" />
		<link rel="shortcut icon" href="~/AdminTemplate/media/logos/favicon.ico" />
		<!--begin::Fonts-->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
		<!--end::Fonts-->
		<!--begin::Global Stylesheets Bundle(used by all pages)-->
		<link href="~/AdminTemplate/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
		<link href="~/AdminTemplate/css/style.bundle.css" rel="stylesheet" type="text/css" />
		<!--end::Global Stylesheets Bundle-->
	</head>
	<!--end::Head-->
	<!--begin::Body-->
	<body id="kt_body" class="bg-body">
		<!--begin::Main-->
	<div class="d-flex flex-column flex-root">
		<!--begin::Authentication - Sign-in -->
		<div class="d-flex flex-column flex-column-fluid bgi-position-y-bottom position-x-center bgi-no-repeat bgi-size-contain bgi-attachment-fixed" style="background-image: url(~/AdminTemplate/media/illustrations/sketchy-1/14.png">
			<!--begin::Content-->
			<div class="d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20">
				<!--begin::Logo-->
				<a href="../../demo1/dist/index.html" class="mb-12">
					<img alt="Logo" src="/Template1/images/tunca-logo.png" class="h-100px" />
				</a>
				<!--end::Logo-->
				<!--begin::Wrapper-->
				<div class="w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
					<!--begin::Form-->
					<form class="form w-100" novalidate="novalidate" id="kt_sign_in_form" action="/admin/login" method="post">
						<!--begin::Heading-->
						<div class="text-center mb-10">
							<!--begin::Title-->
							<h1 class="text-dark mb-3">Admin Girişi</h1>
							<!--end::Title-->
							<!--begin::Link-->

							<!--end::Link-->
						</div>
						<!--begin::Heading-->
						<!--begin::Input group-->
						<div class="fv-row mb-10">
							<!--begin::Label-->
							<label class="form-label fs-6 fw-bolder text-dark">Email</label>
							<!--end::Label-->
							<!--begin::Input-->
							<input class="form-control form-control-lg form-control-solid" type="text" name="email" autocomplete="off" />
								
							<!--end::Input-->
						</div>
						<!--end::Input group-->
						<!--begin::Input group-->
						<div class="fv-row mb-10">
							<!--begin::Wrapper-->
							<div class="d-flex flex-stack mb-2">
								<!--begin::Label-->
								<label class="form-label fw-bolder text-dark fs-6 mb-0">Şifre</label>
								<!--end::Label-->
								<!--begin::Link-->
								<a href="../../demo1/dist/authentication/flows/basic/password-reset.html" class="link-primary fs-6 fw-bolder">Şifremi Unuttum</a>
								<!--end::Link-->
							</div>
							<!--end::Wrapper-->
							<!--begin::Input-->
							<input class="form-control form-control-lg form-control-solid" type="password" name="password" autocomplete="off" />
							<br/>
							@*<div class="text-danger">
									<strong>* Email yada şifreniz yanlış, lütfen tekrar deneyiniz.</strong>
								</div>*@
							<!--end::Input-->
						</div>
						<!--end::Input group-->
						<!--begin::Actions-->
						<div class="text-center">
							<!--begin::Submit button-->
							<button type="submit" id="kt_sign_in_submit123" class="btn btn-lg btn-primary w-100 mb-5">
								<span class="indicator-label">Giriş Yap</span>
								<span class="indicator-progress">Please wait...
									<span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
							</button>
							<!--end::Submit button-->
							<!--begin::Separator-->
							<div class="text-center text-muted text-uppercase fw-bolder mb-5">Yada</div>
							<div class="text-gray-400 fw-bold fs-4">
								<a href="Register" class="link-primary fw-bolder">Yeni Hesap İçin Talep Oluştur</a></div>
								
						</div>
						<!--end::Actions-->
					</form>
					<!--end::Form-->
				</div>
				<!--end::Wrapper-->
			</div>
			<!--end::Content-->
			<!--begin::Footer-->
			<div class="d-flex flex-center flex-column-auto p-10">
				<!--begin::Links-->

				<!--end::Links-->
			</div>
			<!--end::Footer-->
		</div>
		<!--end::Authentication - Sign-in-->
	</div>
	<script>
          document.getElementById("kt_sign_in_submit123").addEventListener("click", function(event){
            event.preventDefault(); // Formun gönderilmesini engelle
        
            // Formdaki tüm input elementleri
            var inputs = document.querySelectorAll("#kt_sign_in_form input");
        
            // Formun geçerliliğini izlemek için bir bayrak
            var isValid = true;
        
            // Boş inputları kontrol et
            for(var i = 0; i < inputs.length; i++){
              if(inputs[i].value.trim() === ""){
                isValid = false;
                break; // Döngüden çık
              }
            }
        
            if(isValid){
              // AJAX isteği yaparak formu gönder
              var xhr = new XMLHttpRequest();
              xhr.open("POST", "/admin/login");
              // xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        
              xhr.onload = function() {
                var response = {};
                if (xhr.responseText !== "") {
                  response = JSON.parse(xhr.responseText);
                }
                if (xhr.status === 200) {
                  // Başarılı mesajını göster ve anasayfaya yönlendir
                  Swal.fire({
                    icon: 'success',
                    title: 'Giriş başarıyla yapıldı!',
                    showConfirmButton: false,
                    timer: 1500
                  }).then(function() {
					  console.log(window.location.href)
					  window.location.replace('/admin');
				});
                } else {
                  // Hata mesajını göster
                  Swal.fire({
                    icon: 'error',
                    title: 'Giriş başarısız oldu!',
                    text: response.message,
                    confirmButtonText: 'Tamam'
                  });
                }
              };
        
              xhr.onerror = function() {
                // Hata mesajını göster
                Swal.fire({
                  icon: 'error',
                  title: 'Giriş başarısız oldu!',
                  text: 'Sunucu hatası.',
                  confirmButtonText: 'Tamam'
                });
              };
        
              // Form verilerini al ve isteği gönder
              var formData = new FormData();
        
              // Tüm input verilerini FormData'ya ekle
              for (var i = 0; i < inputs.length; i++) {
                var input = inputs[i];
                formData.append(input.name, input.value);
              }
        
              xhr.send(formData);
            } else {
              // SweetAlert kullanarak hata mesajını göster
              Swal.fire({
                icon: 'error',
                title: 'Giriş başarısız oldu!',
                text: 'Lütfen tüm zorunlu alanları doldurun.',
                confirmButtonText: 'Tamam'
              });
            }
          });
    </script>

		<!--end::Main-->
		<!--begin::Javascript-->
		<!--begin::Global Javascript Bundle(used by all pages)-->
		<script src="~/AdminTemplate/plugins/global/plugins.bundle.js"></script>
		<script src="~/AdminTemplate/js/scripts.bundle.js"></script>
		<!--end::Global Javascript Bundle-->
		<!--begin::Page Custom Javascript(used by this page)-->
		<script src="~/AdminTemplate/js/custom/authentication/sign-in/general.js"></script>
		<!--end::Page Custom Javascript-->
		<!--end::Javascript-->
	</body>
	<!--end::Body-->
</html>